<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Comprehensive Employability Mock Test</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Inter', sans-serif;
        }
        .section-active {
            background-color: #3b82f6;
            color: white;
        }
        .question-container {
            transition: opacity 0.3s ease-in-out;
        }
        .results-correct {
            color: #16a34a;
        }
        .results-incorrect {
            color: #dc2626;
        }
        .rationale {
            background-color: #f3f4f6;
            border-left: 4px solid #6b7280;
        }
    </style>
</head>
<body class="bg-gray-100 text-gray-800">

    <div id="test-container" class="max-w-7xl mx-auto p-4 sm:p-6 lg:p-8">
        <header class="bg-white shadow-md rounded-lg p-6 mb-6">
            <h1 class="text-3xl font-bold text-gray-900 text-center">Employability Mock Test</h1>
            <p class="text-center text-gray-600 mt-2">A comprehensive assessment for QA, Reasoning, DSA, and English.</p>
            <div id="timer-container" class="mt-4 text-center text-2xl font-semibold bg-blue-100 text-blue-800 rounded-lg py-3 px-4 max-w-sm mx-auto">
                Time Remaining: <span id="timer">03:00:00</span>
            </div>
        </header>

        <nav class="bg-white shadow-md rounded-lg p-3 mb-6 sticky top-2 z-10">
            <ul class="flex flex-wrap justify-center gap-2 sm:gap-4">
                <li><button onclick="showSection('qa')" id="nav-qa" class="section-nav px-4 py-2 rounded-md font-medium section-active">Quantitative Aptitude</button></li>
                <li><button onclick="showSection('reasoning')" id="nav-reasoning" class="section-nav px-4 py-2 rounded-md font-medium">Analytical Reasoning</button></li>
                <li><button onclick="showSection('dsa')" id="nav-dsa" class="section-nav px-4 py-2 rounded-md font-medium">Data Structures & Algo</button></li>
                <li><button onclick="showSection('english')" id="nav-english" class="section-nav px-4 py-2 rounded-md font-medium">English Usage</button></li>
                <li><button onclick="showSection('written')" id="nav-written" class="px-4 py-2 rounded-md font-medium">English Written</button></li>
                <li><button onclick="showSection('coding')" id="nav-coding" class="px-4 py-2 rounded-md font-medium">Coding Questions</button></li>
            </ul>
        </nav>

        <main id="quiz-form">
            <!-- Questions will be injected here by JavaScript -->
        </main>

        <footer class="mt-8 text-center">
            <button onclick="submitTest()" class="bg-green-600 text-white font-bold py-3 px-8 rounded-lg hover:bg-green-700 transition-colors text-xl">
                Submit Test
            </button>
        </footer>
    </div>
    
    <div id="results-container" class="hidden max-w-7xl mx-auto p-4 sm:p-6 lg:p-8">
        <!-- Results will be injected here by JavaScript -->
    </div>


    <script>
        const quizData = {
            qa: {
                title: "Quantitative Aptitude",
                questions: [
                    { question: "A trader marks his goods at 40% above the cost price and allows a discount of 25%. What is his gain percent?", options: ["5%", "10%", "15%", "20%"], answer: "5%", rationale: "Let the cost price (CP) be 100. Marked Price (MP) = 100 + 40% of 100 = 140. Discount = 25% of 140 = 35. Selling Price (SP) = 140 - 35 = 105. Gain = SP - CP = 105 - 100 = 5. Gain % = (Gain/CP) * 100 = (5/100) * 100 = 5%." },
                    { question: "The compound interest on a certain sum for 2 years at 10% per annum is ₹525. The simple interest on the same sum for double the time at half the rate percent per annum is:", options: ["₹400", "₹500", "₹600", "₹800"], answer: "₹500", rationale: "Let P be the principal. CI = P(1 + R/100)^T - P. 525 = P(1 + 10/100)^2 - P => 525 = P(1.1^2 - 1) => 525 = 0.21P => P = 525 / 0.21 = 2500. Now, SI = (P * R * T) / 100. New Time = 2*2 = 4 years. New Rate = 10/2 = 5%. SI = (2500 * 5 * 4) / 100 = ₹500." },
                    { question: "If 7 spiders make 7 webs in 7 days, then 1 spider will make 1 web in how many days?", options: ["1 day", "7 days", "14 days", "49 days"], answer: "7 days", rationale: "This is a classic work and time problem. Use the formula (M1 * D1) / W1 = (M2 * D2) / W2. (7 spiders * 7 days) / 7 webs = (1 spider * D2) / 1 web. => 7 = D2. So, it takes 1 spider 7 days to make 1 web." },
                    { question: "A boat travels 20 km upstream in 5 hours and 30 km downstream in 3 hours. Find the speed of the boat in still water and the speed of the stream.", options: ["7 km/hr, 3 km/hr", "8 km/hr, 2 km/hr", "9 km/hr, 1 km/hr", "6 km/hr, 4 km/hr"], answer: "7 km/hr, 3 km/hr", rationale: "Upstream speed (u) = 20/5 = 4 km/hr. Downstream speed (d) = 30/3 = 10 km/hr. Speed of boat in still water (b) = (d + u) / 2 = (10 + 4) / 2 = 7 km/hr. Speed of stream (s) = (d - u) / 2 = (10 - 4) / 2 = 3 km/hr." },
                    { question: "The average of 5 consecutive odd numbers is 27. What is the largest of these numbers?", options: ["29", "31", "33", "35"], answer: "31", rationale: "For consecutive numbers, the average is the middle number. So, the middle (3rd) odd number is 27. The 5 consecutive odd numbers are 23, 25, 27, 29, 31. The largest number is 31." },
                    { question: "A train 150 m long is running at 72 km/hr. In how much time will it pass a platform 250 m long?", options: ["15 sec", "20 sec", "25 sec", "30 sec"], answer: "20 sec", rationale: "Total distance to be covered = Length of train + Length of platform = 150 + 250 = 400 m. Speed of train = 72 km/hr = 72 * (5/18) m/s = 20 m/s. Time = Distance / Speed = 400 / 20 = 20 seconds." },
                    { question: "If a:b = 5:7 and b:c = 6:11, then find a:b:c.", options: ["30:42:77", "35:42:77", "30:49:77", "30:42:66"], answer: "30:42:77", rationale: "To find a:b:c, we need to make the value of 'b' common in both ratios. a:b = 5:7 and b:c = 6:11. Multiply the first ratio by 6 and the second by 7. a:b = 30:42. b:c = 42:77. Therefore, a:b:c = 30:42:77." },
                    { question: "A can do a piece of work in 15 days and B in 20 days. If they work on it together for 4 days, then the fraction of the work that is left is:", options: ["1/4", "1/10", "7/15", "8/15"], answer: "8/15", rationale: "A's 1 day's work = 1/15. B's 1 day's work = 1/20. (A+B)'s 1 day's work = 1/15 + 1/20 = (4+3)/60 = 7/60. Work done in 4 days = 4 * (7/60) = 7/15. Remaining work = 1 - 7/15 = 8/15." },
                    { question: "The sum of the digits of a two-digit number is 9. If 27 is added to the number, the digits get reversed. The number is:", options: ["27", "63", "36", "45"], answer: "36", rationale: "Let the number be 10x + y. Given x+y=9 and 10x+y+27 = 10y+x. This simplifies to 9y - 9x = 27, or y - x = 3. Solving x+y=9 and y-x=3, we get 2y=12 => y=6 and x=3. The number is 36." },
                    { question: "The perimeter of a rectangular field is 480 meters and the ratio between the length and breadth is 5:3. The area of the field is:", options: ["13500 sq.m", "12500 sq.m", "11500 sq.m", "10500 sq.m"], answer: "13500 sq.m", rationale: "Let length = 5x and breadth = 3x. Perimeter = 2(l+b) = 2(5x+3x) = 16x. 16x = 480 => x = 30. Length = 5*30 = 150 m. Breadth = 3*30 = 90 m. Area = l * b = 150 * 90 = 13500 sq.m." },
                    { question: "If the radius of a sphere is increased by 50%, find the percentage increase in its surface area.", options: ["100%", "125%", "150%", "225%"], answer: "125%", rationale: "Let original radius be R. New radius R' = 1.5R. Original surface area A = 4πR². New surface area A' = 4π(1.5R)² = 4π(2.25R²) = 2.25 * A. Increase = A' - A = 1.25A. Percentage increase = (1.25A / A) * 100 = 125%." },
                    { question: "A mixture of 40 liters of milk and water contains 10% water. How much water must be added to make the water 20% in the new mixture?", options: ["5 liters", "6 liters", "8 liters", "10 liters"], answer: "5 liters", rationale: "Initial mixture: 40 liters. Water = 10% of 40 = 4L. Milk = 36L. Let x liters of water be added. New mixture = 40+x. New water = 4+x. We want (4+x)/(40+x) = 20/100 = 1/5. 5(4+x) = 40+x => 20+5x = 40+x => 4x = 20 => x=5 liters." },
                    { question: "Two pipes A and B can fill a tank in 20 and 30 minutes respectively. If both pipes are used together, then how long will it take to fill the tank?", options: ["12 min", "15 min", "25 min", "50 min"], answer: "12 min", rationale: "Work done by A in 1 min = 1/20. Work done by B in 1 min = 1/30. Work done by (A+B) in 1 min = 1/20 + 1/30 = (3+2)/60 = 5/60 = 1/12. So, both pipes together will fill the tank in 12 minutes." },
                    { question: "Find the value of log₂(log₃(81)).", options: ["1", "2", "3", "4"], answer: "2", rationale: "First, solve the inner logarithm: log₃(81). Since 3⁴ = 81, log₃(81) = 4. Now the expression is log₂(4). Since 2² = 4, log₂(4) = 2." },
                    { question: "A dishonest dealer professes to sell his goods at cost price but uses a weight of 960 gm for a kg weight. Find his gain percent.", options: ["4%", "4.16%", "4.25%", "5%"], answer: "4.16%", rationale: "The dealer gains the amount of goods he saves. Gain = (Error / (True Value - Error)) * 100. Error = 1000 - 960 = 40 gm. Gain % = (40 / 960) * 100 = (1/24) * 100 = 4.166...%." },
                    { question: "The HCF and LCM of two numbers are 12 and 336 respectively. If one of the numbers is 84, the other is:", options: ["36", "48", "72", "96"], answer: "48", rationale: "Product of two numbers = Product of their HCF and LCM. 84 * Other Number = 12 * 336. Other Number = (12 * 336) / 84 = 336 / 7 = 48." },
                    { question: "What is the probability of getting a sum of 9 from two throws of a dice?", options: ["1/6", "1/8", "1/9", "1/12"], answer: "1/9", rationale: "Total possible outcomes = 6 * 6 = 36. Favorable outcomes for a sum of 9 are (3,6), (4,5), (5,4), (6,3). There are 4 favorable outcomes. Probability = 4/36 = 1/9." },
                    { question: "The diagonal of a cube is 6√3 cm. Its volume is:", options: ["144 cm³", "216 cm³", "256 cm³", "180 cm³"], answer: "216 cm³", rationale: "Diagonal of a cube = a√3, where 'a' is the side. a√3 = 6√3 => a = 6 cm. Volume of a cube = a³ = 6³ = 216 cm³." },
                    { question: "A sum of money doubles itself in 8 years at simple interest. What is the rate of interest?", options: ["10%", "12.5%", "15%", "20%"], answer: "12.5%", rationale: "Let Principal = P. Amount = 2P. Interest = P. Time = 8 years. SI = (P*R*T)/100 => P = (P*R*8)/100 => 100 = 8R => R = 100/8 = 12.5%." },
                    { question: "If 15 men can do a work in 12 days, how many men will be required to do the same work in 18 days?", options: ["8 men", "10 men", "12 men", "15 men"], answer: "10 men", rationale: "Use the formula M1*D1 = M2*D2. 15 * 12 = M2 * 18. M2 = (15 * 12) / 18 = 15 * (2/3) = 10 men." },
                    { question: "A number when divided by 36 leaves a remainder of 23. What will be the remainder when the same number is divided by 9?", options: ["0", "5", "7", "Cannot be determined"], answer: "5", rationale: "Let the number be N. N = 36k + 23. Since 36 is divisible by 9, we can write N = (9*4k) + (18 + 5) = 9*(4k+2) + 5. So, when N is divided by 9, the remainder is 5." },
                    { question: "The price of sugar is increased by 25%. By what percent must a consumer reduce the consumption of sugar so that the expenditure on it remains unchanged?", options: ["15%", "20%", "25%", "30%"], answer: "20%", rationale: "Let original price = P, consumption = C. Expenditure = P*C. New price P' = 1.25P. New expenditure = P'*C' = P*C. 1.25P * C' = P*C => C' = C/1.25 = 0.8C. Reduction in consumption = C - 0.8C = 0.2C. Percentage reduction = (0.2C/C) * 100 = 20%." },
                    { question: "Find the fourth proportional to 4, 9, 12.", options: ["18", "21", "24", "27"], answer: "27", rationale: "Let the fourth proportional be x. Then 4:9 :: 12:x. Product of extremes = Product of means. 4 * x = 9 * 12. 4x = 108. x = 27." },
                    { question: "A and B start a business with investments of ₹10000 and ₹20000 respectively. After 6 months, C joins with ₹30000. Find the ratio of their profits at the end of the year.", options: ["2:4:3", "1:2:3", "2:4:5", "2:3:3"], answer: "2:4:3", rationale: "Profit ratio is based on (Investment * Time). A's share = 10000 * 12. B's share = 20000 * 12. C's share = 30000 * 6. Ratio = (10*12) : (20*12) : (30*6) = 120 : 240 : 180. Divide by 60 -> 2:4:3." },
                    { question: "The area of a circle inscribed in a square of side 14 cm is:", options: ["154 cm²", "184 cm²", "196 cm²", "204 cm²"], answer: "154 cm²", rationale: "The diameter of the inscribed circle is equal to the side of the square. Diameter = 14 cm, so Radius = 7 cm. Area of circle = πr² = (22/7) * 7 * 7 = 154 cm²." },
                    { question: "A batsman scores 87 runs in the 17th inning and thus increases his average by 3. Find his average after the 17th inning.", options: ["36", "39", "42", "45"], answer: "39", rationale: "Let average after 16 innings be x. Total runs = 16x. (16x + 87) / 17 = x + 3. 16x + 87 = 17x + 51. x = 36. Average after 17th inning = x + 3 = 36 + 3 = 39." },
                    { question: "What is the angle between the hour hand and the minute hand of a clock at 4:20?", options: ["0°", "5°", "10°", "15°"], answer: "10°", rationale: "Angle = |(60H - 11M) / 2|. Here H=4, M=20. Angle = |(240 - 220) / 2| = |20 / 2| = 10°." },
                    { question: "A person crosses a 600 m long street in 5 minutes. What is his speed in km/hr?", options: ["3.6 km/hr", "7.2 km/hr", "8.4 km/hr", "10 km/hr"], answer: "7.2 km/hr", rationale: "Speed = Distance/Time = 600m / (5 * 60 sec) = 600/300 = 2 m/s. To convert m/s to km/hr, multiply by 18/5. Speed = 2 * (18/5) = 36/5 = 7.2 km/hr." },
                    { question: "The difference between 78% of a number and 59% of the same number is 323. What is 62% of that number?", options: ["1054", "1154", "1037", "1178"], answer: "1054", rationale: "Let the number be x. 78% of x - 59% of x = 323 => 19% of x = 323. 0.19x = 323 => x = 323 / 0.19 = 1700. Now, 62% of 1700 = 0.62 * 1700 = 1054." },
                    { question: "If x + 1/x = 3, then the value of x³ + 1/x³ is:", options: ["18", "24", "27", "36"], answer: "18", rationale: "We know (x + 1/x)³ = x³ + 1/x³ + 3(x)(1/x)(x + 1/x). Let x + 1/x = k. Then x³ + 1/x³ = k³ - 3k. Here k=3. So, x³ + 1/x³ = 3³ - 3*3 = 27 - 9 = 18." },
                    { question: "A sum of ₹1800 is divided among A, B, C such that A's share is 1/2 of B's share and C's share is 3/2 of B's share. Find B's share.", options: ["₹300", "₹600", "₹900", "₹1200"], answer: "₹600", rationale: "Let B's share be B. A's share = B/2. C's share = 3B/2. Total sum = A + B + C = B/2 + B + 3B/2 = 1800. (B + 2B + 3B)/2 = 1800 => 6B/2 = 1800 => 3B = 1800 => B = ₹600." },
                    { question: "A train running at 54 km/hr crosses a man in 20 seconds. Find the length of the train.", options: ["200 m", "250 m", "300 m", "350 m"], answer: "300 m", rationale: "Speed = 54 km/hr = 54 * (5/18) m/s = 15 m/s. Time = 20 seconds. When a train crosses a man, the distance covered is the length of the train. Length of train = Speed * Time = 15 m/s * 20 s = 300 meters." },
                    { question: "The ratio of the number of boys and girls in a school is 3:2. If 20% of the boys and 25% of the girls are scholarship holders, the percentage of students who are not scholarship holders is:", options: ["78%", "79%", "80%", "81%"], answer: "78%", rationale: "Let the number of boys be 3x and girls be 2x. Total students = 5x. Boys not holding scholarship = (100-20)% of 3x = 80% of 3x = 0.8 * 3x = 2.4x. Girls not holding scholarship = (100-25)% of 2x = 75% of 2x = 0.75 * 2x = 1.5x. Total students not holding scholarship = 2.4x + 1.5x = 3.9x. Percentage of students not holding scholarship = (3.9x / 5x) * 100 = (3.9 / 5) * 100 = 0.78 * 100 = 78%." },
                    { question: "A certain sum of money amounts to ₹6600 in 2 years and ₹9900 in 4 years at simple interest. Find the sum.", options: ["₹3300", "₹4400", "₹5500", "₹6600"], answer: "₹3300", rationale: "Let P be the principal and R be the rate. P + (P*R*2)/100 = 6600. P + (P*R*4)/100 = 9900. Subtracting the first equation from the second: (P*R*2)/100 = 9900 - 6600 = 3300. So, (P*R*2)/100 = 3300. Substitute this back into the first equation: P + 3300 = 6600 => P = ₹3300." },
                    { question: "The cost price of 20 articles is the same as the selling price of x articles. If the profit is 25%, then the value of x is:", options: ["15", "16", "18", "20"], answer: "16", rationale: "Let CP of 1 article be ₹1. Then CP of 20 articles = ₹20. SP of x articles = ₹20. SP of 1 article = ₹(20/x). Profit = SP - CP = (20/x) - 1. Profit % = ((20/x - 1) / 1) * 100 = 25. (20/x - 1) = 0.25 => 20/x = 1.25 => x = 20 / 1.25 = 16." },
                    { question: "A bag contains 5 red balls and 3 green balls. If two balls are drawn at random, what is the probability that both are red?", options: ["5/14", "5/28", "1/7", "3/28"], answer: "5/14", rationale: "Total balls = 5 + 3 = 8. Number of ways to choose 2 balls from 8 = ⁸C₂ = (8 * 7) / (2 * 1) = 28. Number of ways to choose 2 red balls from 5 = ⁵C₂ = (5 * 4) / (2 * 1) = 10. Probability = (Favorable Outcomes) / (Total Outcomes) = 10 / 28 = 5/14." },
                    { question: "A mixture of 20 liters of milk and water contains 10% water. How much milk should be added to make the water content 5%?", options: ["10 liters", "15 liters", "20 liters", "25 liters"], answer: "20 liters", rationale: "Initial mixture: 20 liters. Water = 10% of 20 = 2L. Milk = 18L. Let x liters of milk be added. New mixture = 20+x. Water remains 2L. We want 2 / (20+x) = 5/100 = 1/20. 2 * 20 = 20+x => 40 = 20+x => x = 20 liters." },
                    { question: "The sum of three numbers is 98. If the ratio of the first to the second is 2:3, and that of the second to the third is 5:8, then the second number is:", options: ["20", "30", "48", "32"], answer: "30", rationale: "A:B = 2:3. B:C = 5:8. To combine, make B common: A:B = (2*5):(3*5) = 10:15. B:C = (5*3):(8*3) = 15:24. So A:B:C = 10:15:24. Sum of ratios = 10+15+24 = 49. Each part = 98/49 = 2. Second number (B) = 15 parts = 15 * 2 = 30." },
                    { question: "A man can row at 5 km/hr in still water. If the velocity of the current is 1 km/hr and it takes him 1 hour to row to a place and come back, how far is the place?", options: ["2.4 km", "2.5 km", "3 km", "3.6 km"], answer: "2.4 km", rationale: "Speed in still water (b) = 5 km/hr. Speed of current (s) = 1 km/hr. Downstream speed = b+s = 6 km/hr. Upstream speed = b-s = 4 km/hr. Let distance be D. Time = D/Downstream + D/Upstream. 1 = D/6 + D/4. 1 = (2D + 3D)/12 => 1 = 5D/12 => D = 12/5 = 2.4 km." },
                    { question: "The average age of 30 students and their teacher is 15 years. If the average age of the 30 students is 14 years, the age of the teacher is:", options: ["30 years", "35 years", "40 years", "45 years"], answer: "45 years", rationale: "Total age of 30 students and teacher = 31 * 15 = 465 years. Total age of 30 students = 30 * 14 = 420 years. Age of teacher = 465 - 420 = 45 years." },
                    { question: "A sum of money is to be distributed among A, B, C, D in the proportion 5:2:4:3. If C gets ₹1000 more than D, what is B's share?", options: ["₹2000", "₹3000", "₹4000", "₹5000"], answer: "₹2000", rationale: "Let the shares be 5x, 2x, 4x, 3x. C gets 4x, D gets 3x. C - D = 1000 => 4x - 3x = 1000 => x = 1000. B's share = 2x = 2 * 1000 = ₹2000." },
                    { question: "A train passes a telegraph post in 10 seconds and a bridge 120 m long in 16 seconds. The speed of the train is:", options: ["60 km/hr", "72 km/hr", "80 km/hr", "90 km/hr"], answer: "72 km/hr", rationale: "Let the length of the train be L meters and speed be S m/s. When passing a post, L = S * 10 => L = 10S. When passing a bridge, L + 120 = S * 16. Substitute L = 10S: 10S + 120 = 16S => 6S = 120 => S = 20 m/s. Convert to km/hr: 20 * (18/5) = 4 * 18 = 72 km/hr." },
                    { question: "The product of two numbers is 2028 and their HCF is 13. The number of such pairs is:", options: ["1", "2", "3", "4"], answer: "2", rationale: "Let the numbers be 13a and 13b, where a and b are coprime. Product = (13a)(13b) = 169ab = 2028. ab = 2028 / 169 = 12. Pairs of coprime factors of 12 are (1, 12) and (3, 4). So there are 2 such pairs." },
                    { question: "A sum of money at simple interest amounts to ₹815 in 3 years and to ₹854 in 4 years. The sum is:", options: ["₹650", "₹698", "₹700", "₹720"], answer: "₹698", rationale: "Interest for 1 year = 854 - 815 = ₹39. Interest for 3 years = 3 * 39 = ₹117. Sum = Amount in 3 years - Interest for 3 years = 815 - 117 = ₹698." },
                    { question: "If the length of a rectangle is increased by 20% and its breadth is decreased by 10%, what is the percentage change in its area?", options: ["8% increase", "8% decrease", "10% increase", "10% decrease"], answer: "8% increase", rationale: "Let original length L=10, breadth B=10. Original Area = 100. New length L' = 1.2 * 10 = 12. New breadth B' = 0.9 * 10 = 9. New Area = 12 * 9 = 108. Percentage change = ((108-100)/100) * 100 = 8% increase. Alternatively, use formula: (L_change + B_change + (L_change * B_change)/100)%. (20 - 10 + (20 * -10)/100)% = (10 - 200/100)% = (10 - 2)% = 8%." },
                    { question: "The average of 11 results is 50. If the average of the first 6 results is 49 and that of the last 6 results is 52, the sixth result is:", options: ["50", "51", "52", "56"], answer: "56", rationale: "Total sum of 11 results = 11 * 50 = 550. Sum of first 6 results = 6 * 49 = 294. Sum of last 6 results = 6 * 52 = 312. When we sum the first 6 and last 6 results, the 6th result is counted twice. So, the 6th result = (Sum of first 6 results + Sum of last 6 results) - Total sum of 11 results = (294 + 312) - 550 = 606 - 550 = 56." },
                    { question: "A box contains 90 discs, on which numbers from 1 to 90 are printed. If a disc is drawn at random from the box, the probability that it bears a two-digit number which is a perfect square is:", options: ["1/15", "1/10", "1/9", "1/5"], answer: "1/15", rationale: "Total numbers = 90. Perfect squares from 1 to 90 are: 1, 4, 9, 16, 25, 36, 49, 64, 81. Two-digit perfect squares are: 16, 25, 36, 49, 64, 81. There are 6 such numbers. Probability = 6/90 = 1/15." },
                    { question: "If the length of a rectangle is increased by 20% and its breadth is decreased by 20%, then its area:", options: ["decreases by 4%", "increases by 4%", "decreases by 1%", "remains unchanged"], answer: "decreases by 4%", rationale: "Let original length L=10, breadth B=10. Original Area = 100. New length L' = 1.2 * 10 = 12. New breadth B' = 0.8 * 10 = 8. New Area = 12 * 8 = 96. Percentage change = ((96-100)/100) * 100 = -4%. (Decreases by 4%). Alternatively, for x% increase and x% decrease, the net change is always a decrease of (x/10)²% = (20/10)²% = 2²% = 4%." },
                    { question: "A sum of money invested at compound interest doubles itself in 4 years. In how many years will it amount to 8 times itself?", options: ["8 years", "12 years", "16 years", "20 years"], answer: "12 years", rationale: "If a sum doubles in 'n' years at CI, it will become 2^k times in k*n years. Here, it doubles (2^1 times) in 4 years. We want it to become 8 times (2^3 times). So, k=3. Time = 3 * 4 = 12 years." },
                    { question: "A and B can do a work in 12 days, B and C in 15 days, C and A in 20 days. In how many days can A alone do the work?", options: ["10 days", "15 days", "20 days", "30 days"], answer: "30 days", rationale: "Let A, B, C be the rates at which A, B, C can do the work per day. A+B = 1/12. B+C = 1/15. C+A = 1/20. Adding all three equations: 2(A+B+C) = 1/12 + 1/15 + 1/20 = (5 + 4 + 3)/60 = 12/60 = 1/5. So, A+B+C = 1/10. A's rate = (A+B+C) - (B+C) = 1/10 - 1/15 = (3 - 2)/30 = 1/30. Therefore, A alone can do the work in 30 days." },
                    { question: "A sum of ₹1600 is lent at 10% per annum compound interest, compounded half-yearly. What will be the amount after 1 year?", options: ["₹1760", "₹1764", "₹1770", "₹1780"], answer: "₹1764", rationale: "Principal (P) = ₹1600. Rate (R) = 10% per annum. Time (T) = 1 year. Compounded half-yearly means n=2. New Rate = R/2 = 10/2 = 5%. New Time = T*n = 1*2 = 2 periods. Amount = P(1 + R/100)^T = 1600(1 + 5/100)² = 1600 * 1.1025 = ₹1764." },
                    { question: "In a group of 60 students, 25 play cricket, 20 play tennis, and 10 play both. How many students play neither cricket nor tennis?", options: ["20", "25", "30", "35"], answer: "25", rationale: "Total students = 60. Cricket (C) = 25. Tennis (T) = 20. Both (C ∩ T) = 10. Students playing at least one game = C + T - (C ∩ T) = 25 + 20 - 10 = 35. Students playing neither = Total - Students playing at least one = 60 - 35 = 25." },
                    { question: "A and B together can complete a work in 10 days. A alone can complete it in 15 days. In how many days can B alone complete the work?", options: ["20 days", "25 days", "30 days", "35 days"], answer: "30 days", rationale: "(A+B)'s 1 day work = 1/10. A's 1 day work = 1/15. B's 1 day work = (A+B)'s 1 day work - A's 1 day work = 1/10 - 1/15 = (3-2)/30 = 1/30. So, B alone can complete the work in 30 days." },
                    { question: "The ratio of the speed of a boat in still water to the speed of the stream is 3:1. If the boat travels 36 km downstream in 2 hours, what distance will it travel upstream in 3 hours?", options: ["24 km", "27 km", "30 km", "36 km"], answer: "27 km", rationale: "Let the speed of the boat in still water be 3x km/hr and the speed of the stream be x km/hr. Downstream speed = 3x + x = 4x km/hr. Upstream speed = 3x - x = 2x km/hr. Given, the boat travels 36 km downstream in 2 hours. So, Downstream speed = 36 km / 2 hours = 18 km/hr. Therefore, 4x = 18 => x = 4.5 km/hr. Upstream speed = 2x = 2 * 4.5 = 9 km/hr. Distance traveled upstream in 3 hours = Upstream speed * Time = 9 km/hr * 3 hours = 27 km." },
                    { question: "A cube of side 6 cm is cut into smaller cubes of side 2 cm. How many smaller cubes can be obtained?", options: ["9", "18", "27", "36"], answer: "27", rationale: "Volume of larger cube = 6³ = 216 cm³. Volume of smaller cube = 2³ = 8 cm³. Number of smaller cubes = Volume of larger cube / Volume of smaller cube = 216 / 8 = 27." }
                ]
            },
            reasoning: {
                title: "Analytical Reasoning",
                questions: [
                    { question: "Find the next term in the series: 3, 7, 16, 35, 74, ___", options: ["150", "153", "155", "157"], answer: "153", rationale: "The pattern is *2+1, *2+2, *2+3, *2+4, ... So, 3*2+1=7, 7*2+2=16, 16*2+3=35, 35*2+4=74. The next term will be 74*2+5 = 148+5 = 153." },
                    { question: "In a certain code, 'TEACHER' is coded as 'VGCEJGT'. How is 'CHILDREN' coded in that same code?", options: ["EJKNFTGP", "EJKNHTGP", "EIKNFTGP", "EJKMFJGP"], answer: "EJKNFTGP", rationale: "The pattern is to increment each letter by 2 positions in the alphabet. T(+2)=V, E(+2)=G, A(+2)=C, C(+2)=E, H(+2)=J, E(+2)=G, R(+2)=T. Applying this to CHILDREN: C(+2)=E, H(+2)=J, I(+2)=K, L(+2)=N, D(+2)=F, R(+2)=T, E(+2)=G, N(+2)=P. So, EJKNFTGP." },
                    { question: "Pointing to a photograph, a man said, 'I have no brother or sister but that man's father is my father's son.' Whose photograph was it?", options: ["His own", "His son's", "His father's", "His nephew's"], answer: "His son's", rationale: "The man has no brother or sister. 'My father's son' can only be the man himself. So, 'that man's father is myself'. This means the man in the photograph is his son." },
                    { question: "Which number completes the sequence: 1, 8, 27, 64, ___, 216?", options: ["100", "125", "150", "180"], answer: "125", rationale: "The series consists of perfect cubes: 1³=1, 2³=8, 3³=27, 4³=64. The next number should be 5³=125, followed by 6³=216." },
                    { question: "If 'FATHER' is coded as 'JEXLIV', how is 'MOTHER' coded in that same code?", options: ["QSXLIV", "OSXLIV", "QSXLIW", "QTXLIV"], answer: "QSXLIV", rationale: "The pattern is to increment each letter by 4 positions in the alphabet. F(+4)=J, A(+4)=E, T(+4)=X, H(+4)=L, E(+4)=I, R(+4)=V. Applying this to MOTHER: M(+4)=Q, O(+4)=S, T(+4)=X, H(+4)=L, E(+4)=I, R(+4)=V. So, QSXLIV." },
                    { question: "Introducing a girl, a boy said, 'She is the daughter of the only son of my grandfather.' How is the boy related to the girl?", options: ["Brother", "Father", "Uncle", "Cousin"], answer: "Brother", rationale: "The 'only son of my grandfather' refers to the boy's father. So, the girl is the daughter of the boy's father, which means she is the boy's sister. Therefore, the boy is the girl's brother." },
                    { question: "Complete the series: B, D, G, K, P, ___", options: ["U", "V", "W", "X"], answer: "V", rationale: "The pattern of differences between consecutive letters is increasing: B(+2)D, D(+3)G, G(+4)K, K(+5)P. The next difference should be +6. P(+6)=V." },
                    { question: "If 'PAPER' is coded as 'QBQFS', then 'HISTORY' will be coded as:", options: ["IJTUPSZ", "IJTUQSY", "IJTUPSX", "IJTUPRZ"], answer: "IJTUPSZ", rationale: "The pattern is to increment each letter by 1 position in the alphabet. P(+1)=Q, A(+1)=B, P(+1)=Q, E(+1)=F, R(+1)=S. Applying this to HISTORY: H(+1)=I, I(+1)=J, S(+1)=T, T(+1)=U, O(+1)=P, R(+1)=S, Y(+1)=Z. So, IJTUPSZ." },
                    { question: "In a certain code, 'STATION' is written as 'TSAITNO'. How is 'TRAIN' written in that code?", options: ["RTIAN", "RTNIA", "IRTNA", "RTAIN"], answer: "RTIAN", rationale: "The pattern involves swapping adjacent pairs of letters. ST -> TS, AT -> TA, IO -> OI. The last letter 'N' remains in its place. Applying this to TRAIN: TR -> RT, AI -> IA. The last letter 'N' remains. So, RTIAN." },
                    { question: "Look at this series: 2, 6, 12, 20, 30, ___. What number should come next?", options: ["40", "42", "44", "46"], answer: "42", rationale: "The differences between consecutive terms are increasing by 2 each time: +4, +6, +8, +10. The next difference should be +12. So, 30 + 12 = 42." },
                    { question: "If 'CAT' is coded as 24, and 'DOG' is coded as 26, how is 'HEN' coded?", options: ["27", "25", "28", "29"], answer: "27", rationale: "The code is the sum of the alphabetical positions of the letters. C=3, A=1, T=20 => 3+1+20 = 24. D=4, O=15, G=7 => 4+15+7 = 26. H=8, E=5, N=14 => 8+5+14 = 27." },
                    { question: "A man walks 10 km East, then 5 km North, then 10 km West. How far is he from his starting point?", options: ["0 km", "5 km", "10 km", "25 km"], answer: "5 km", rationale: "The 10 km East and 10 km West movements cancel each other out. The man is only displaced by the 5 km North movement from his starting point." },
                    { question: "Find the odd one out: Lion, Tiger, Wolf, Elephant.", options: ["Lion", "Tiger", "Wolf", "Elephant"], answer: "Elephant", rationale: "Lion, Tiger, and Wolf are carnivores (meat-eaters). Elephant is a herbivore (plant-eater)." },
                    { question: "What comes next in the series: A, E, I, O, ___?", options: ["U", "V", "W", "X"], answer: "U", rationale: "The series consists of the vowels in alphabetical order: A, E, I, O. The next vowel is U." },
                    { question: "If 'Zebra' is coded as '2652181', how is 'Cow' coded?", options: ["31523", "301523", "31522", "31524"], answer: "31523", rationale: "Each letter is replaced by its alphabetical position. Z=26, E=5, B=2, R=18, A=1. So, Zebra is 2652181. Applying this to COW: C=3, O=15, W=23. So, 31523." },
                    { question: "In a row of boys, A is 10th from the left and B is 9th from the right. If A and B interchange their positions, A becomes 15th from the left. How many boys are there in the row?", options: ["23", "24", "25", "26"], answer: "23", rationale: "When A and B interchange positions, A moves to B's original position. A's new position from left is 15th. B's original position from right was 9th. So, total boys = (A's new position from left) + (B's original position from right) - 1 = 15 + 9 - 1 = 23." },
                    { question: "Choose the odd one out: Square, Rectangle, Triangle, Sphere.", options: ["Square", "Rectangle", "Triangle", "Sphere"], answer: "Sphere", rationale: "Square, Rectangle, and Triangle are 2-dimensional shapes (polygons). Sphere is a 3-dimensional shape." },
                    { question: "What comes next in the series: January, March, May, July, ___?", options: ["August", "September", "October", "November"], answer: "September", rationale: "The series consists of months that are separated by one month (January, skip February, March, skip April, May, skip June, July). Following this pattern, after July, we skip August, and the next month is September." },
                    { question: "If 'MASTER' is coded as 'OCUVGT', how is 'LABOUR' coded?", options: ["NCDQWT", "NCDQVU", "NCDQWU", "NCDQWV"], answer: "NCDQWT", rationale: "The pattern is to increment each letter by 2 positions in the alphabet. M(+2)=O, A(+2)=C, S(+2)=U, T(+2)=V, E(+2)=G, R(+2)=T. Applying this to LABOUR: L(+2)=N, A(+2)=C, B(+2)=D, O(+2)=Q, U(+2)=W, R(+2)=T. So, NCDQWT." },
                    { question: "Five friends A, B, C, D, E are sitting in a row facing North. B is sitting between A and C. D is immediately to the right of C. E is at the extreme left. Who is sitting in the middle?", options: ["A", "B", "C", "D"], answer: "B", rationale: "E is at the extreme left. So, E _ _ _ _. D is immediately to the right of C. So, _ _ C D _. B is sitting between A and C. So, A B C. Combining: E A B C D. The middle person is B." },
                    { question: "Find the missing number: 4, 9, 25, 49, ___, 169.", options: ["81", "100", "121", "144"], answer: "121", rationale: "The series consists of squares of prime numbers: 2²=4, 3²=9, 5²=25, 7²=49. The next prime number after 7 is 11. So, 11²=121. The next prime after 11 is 13, and 13²=169." },
                    { question: "If 'WATER' is coded as 'TXSBQ', how is 'FIRE' coded?", options: ["CFQB", "EFQC", "DFQB", "CGQB"], answer: "CFQB", rationale: "The pattern for WATER to TXSBQ is W(-3)T, A(-3)X, T(-1)S, E(-3)B, R(-1)Q. Applying this to FIRE: F(-3)C, I(-3)F, R(-1)Q, E(-3)B. So, CFQB." },
                    { question: "Pointing to a man in a photo, a woman said, 'His brother's father is the only son of my grandmother.' How is the woman related to the man?", options: ["Sister", "Mother", "Aunt", "Cousin"], answer: "Aunt", rationale: "Let's break it down: 'My grandmother's only son' refers to the woman's father (assuming her mother is her grandmother's daughter) or her uncle. However, for the relationship to be 'Aunt', the 'only son of my grandmother' must be the woman's brother, and this brother is the man's father. So, the man's father is the woman's brother. This makes the woman the man's aunt." },
                    { question: "In a certain code, 'RUST' is written as 'QVRU'. How is 'LIVE' written?", options: ["KJUFB", "KJUFC", "KJUFD", "KJUFE"], answer: "KJUFB", rationale: "The pattern is an alternating shift: first letter -1, second letter +1, third letter -1, fourth letter +1. R(-1)Q, U(+1)V, S(-1)R, T(+1)U. Applying this to LIVE: L(-1)K, I(+1)J, V(-1)U, E(+1)F. So, KJUFB." },
                    { question: "In a family, there are six members A, B, C, D, E, F. A and B are a married couple, A being the male member. D is the only son of C, who is the brother of A. E is the sister of D. B is the daughter-in-law of F, whose husband has died. How is F related to A?", options: ["Mother", "Sister", "Mother-in-law", "Aunt"], answer: "Mother", rationale: "A and B are a married couple, A is male, B is female. C is brother of A. D is only son of C. E is sister of D. So C is D's father, and E is D's sister. B is daughter-in-law of F. This means F is either A's mother or father. Since F's husband has died, F is A's mother. So F is A's mother." },
                    { question: "Find the odd one out: 6, 12, 18, 25.", options: ["6", "12", "18", "25"], answer: "25", rationale: "6, 12, and 18 are multiples of 6. 25 is not a multiple of 6. Also, 25 is a perfect square (5²), while the others are not." },
                    { question: "What comes next in the series: Mon, Tue, Wed, Thu, ___?", options: ["Fri", "Sat", "Sun", "Mon"], answer: "Fri", rationale: "The series consists of the first three letters of the days of the week in order. After Thursday, comes Friday." },
                    { question: "If 'SPIN' is coded as '7953', and 'TOP' is coded as '239', how is 'SPOT' coded?", options: ["7932", "7923", "7952", "7925"], answer: "7932", rationale: "This is a direct substitution code. S=7, P=9, I=5, N=3. T=2, O=3, P=9. Note that P=9 in both. So, SPOT: S=7, P=9, O=3, T=2. So, 7932." },
                    { question: "In a family, there are 8 members. A is the father of B. C is the daughter of A. D is the brother of B. E is the wife of A. F is the son of C. G is the brother of F. H is the wife of D. How many male members are there in the family?", options: ["3", "4", "5", "6"], answer: "5", rationale: "Let's identify the genders: A (Male), B (gender not specified, but D is his brother), C (Female), D (Male), E (Female), F (Male), G (Male), H (Female). From 'D is the brother of B', B's gender is not explicitly stated. However, in such puzzles, if a gender allows for an option, it's often implied. If B is male, then the males are A, B, D, F, G (5 males). If B is female, then A, D, F, G (4 males). Given the options, 5 is a plausible answer, implying B is male. So, A, B, D, F, G are the 5 male members." },
                    { question: "Find the odd one out: 1, 8, 27, 36, 125.", options: ["1", "8", "27", "36", "125"], answer: "36", rationale: "The series consists of perfect cubes: 1³=1, 2³=8, 3³=27, 5³=125. However, 36 is a perfect square (6²), not a perfect cube. So, 36 is the odd one out." },
                    { question: "What comes next in the series: 1, 1, 2, 3, 5, 8, ___?", options: ["11", "12", "13", "14"], answer: "13", rationale: "This is the Fibonacci sequence, where each number is the sum of the two preceding ones. 1+1=2, 1+2=3, 2+3=5, 3+5=8. The next term is 5+8=13." }
                ]
            },
            dsa: {
                title: "Data Structures & Algorithms",
                questions: [
                    { question: "What is the worst-case time complexity of inserting an element into a hash table using chaining for collision resolution?", options: ["O(1)", "O(log n)", "O(n)", "O(n² informants)"], answer: "O(n)", rationale: "In the worst case, all 'n' elements could hash to the same bucket. Resolving this with chaining would create a linked list of 'n' elements. Inserting a new element would require traversing this entire list to add it to the end, resulting in O(n) complexity." },
                    { question: "In a singly linked list, which operation typically has a time complexity of O(1)?", options: ["Searching for an element by value", "Inserting a node at the end of the list", "Deleting a node from the middle of the list", "Inserting a node at the beginning of the list"], answer: "Inserting a node at the beginning of the list", rationale: "Inserting at the beginning only requires updating the head pointer, which is an O(1) operation." },
                    { question: "What is the worst-case time complexity for searching an element in a binary search tree (BST)?", options: ["O(1)", "O(log N)", "O(N)", "O(N log N)"], answer: "O(N)", rationale: "In the worst case, a BST can degenerate into a skewed tree (like a linked list), making search time proportional to the number of nodes (N)." },
                    { question: "Which sorting algorithm has a worst-case time complexity of O(N log N)?", options: ["Bubble Sort", "Insertion Sort", "Quick Sort", "Merge Sort"], answer: "Merge Sort", rationale: "Merge Sort consistently has a worst-case time complexity of O(N log N) because it always divides the array into two halves and merges them." },
                    { question: "What is a common application of a Queue data structure?", options: ["Function call stack management", "Undo/Redo functionality in an editor", "CPU scheduling (First-Come, First-Served)", "Storing hierarchical data"], answer: "CPU scheduling (First-Come, First-Served)", rationale: "CPU scheduling using a First-Come, First-Served (FCFS) approach is a classic application of a Queue (FIFO)." },
                    { question: "Which data structure uses a hash function to map keys to values?", options: ["Array", "Linked List", "Hash Table", "Binary Tree"], answer: "Hash Table", rationale: "A Hash Table (or Hash Map) uses a hash function to compute an index into an array of buckets or slots, from which the desired value can be found." },
                    { question: "What is the primary disadvantage of using an array for data storage when the size is frequently changing?", options: ["Slow access time for elements", "Difficulty in random access", "Fixed size and costly resizing operations", "Inefficient memory usage"], answer: "Fixed size and costly resizing operations", rationale: "Arrays have a fixed size. If more space is needed, a new, larger array must be allocated, and all elements copied, which is a costly O(N) operation." },
                    { question: "Which graph traversal algorithm uses a queue?", options: ["Depth-First Search (DFS)", "Breadth-First Search (BFS)", "Dijkstra's Algorithm", "Prim's Algorithm"], answer: "Breadth-First Search (BFS)", rationale: "BFS explores all the neighbor nodes at the present depth prior to moving on to the nodes at the next depth level, which is achieved using a queue." },
                    { question: "What is the maximum number of children a node can have in a binary tree?", options: ["1", "2", "Any number", "N (number of nodes)"], answer: "2", rationale: "A binary tree is a tree data structure in which each node has at most two children, which are referred to as the left child and the right child." },
                    { question: "Which data structure is suitable for representing relationships between entities, such as social networks or road maps?", options: ["Array", "Stack", "Graph", "Linked List"], answer: "Graph", rationale: "A Graph consists of nodes (vertices) and edges, making it ideal for representing relationships and connections between various entities." },
                    { question: "What is the time complexity of accessing an element by its index in an array?", options: ["O(N)", "O(log N)", "O(1)", "O(N log N)"], answer: "O(1)", rationale: "Accessing an element by its index in an array is an O(1) operation because the memory address can be directly calculated." },
                    { question: "Which data structure allows for efficient insertion and deletion at both ends?", options: ["Singly Linked List", "Doubly Linked List", "Array", "Stack"], answer: "Doubly Linked List", rationale: "A Doubly Linked List has pointers to both the next and previous nodes, allowing O(1) insertion and deletion at both the head and tail (if tail pointer is maintained)." },
                    { question: "What is the primary benefit of using a hash table over a binary search tree for searching?", options: ["Guaranteed O(log N) worst-case search time", "Better memory efficiency", "Faster average-case search time (O(1))", "Maintains sorted order of elements"], answer: "Faster average-case search time (O(1))", rationale: "Hash tables offer O(1) average-case search, insertion, and deletion time, which is generally faster than BSTs (O(log N) average-case)." },
                    { question: "Which of the following is NOT a common method for handling collisions in hash tables?", options: ["Separate Chaining", "Open Addressing (Linear Probing, Quadratic Probing, Double Hashing)", "Rehashing", "Coalesced Hashing"], answer: "Rehashing", rationale: "Rehashing is a technique used to resize the hash table when it becomes too full, not a direct collision resolution method for individual collisions." },
                    { question: "What is the space complexity of an array of N integers?", options: ["O(1)", "O(log N)", "O(N)", "O(N^2)"], answer: "O(N)", rationale: "An array of N integers requires space proportional to N, hence O(N) space complexity." },
                    { question: "Which data structure is typically used to implement a priority queue?", options: ["Array", "Linked List", "Heap", "Stack"], answer: "Heap", rationale: "A Heap (specifically a binary heap) is the most common and efficient data structure for implementing a priority queue, as it allows O(log N) insertion and deletion of the maximum/minimum element." },
                    { question: "What is the main difference between a complete binary tree and a full binary tree?", options: ["A complete binary tree has all leaves at the same level, while a full binary tree does not.", "A complete binary tree has every node with either 0 or 2 children, while a full binary tree can have 1 child.", "A complete binary tree is filled level by level from left to right, except possibly the last level, while a full binary tree has every node with 0 or 2 children.", "There is no difference; the terms are interchangeable."], answer: "A complete binary tree is filled level by level from left to right, except possibly the last level, while a full binary tree has every node with 0 or 2 children.", rationale: "This accurately defines both. A full binary tree has every node with either 0 or 2 children. A complete binary tree is a binary tree in which all the levels are completely filled except possibly the last level, and the last level has all its nodes as left as possible." },
                    { question: "Which searching algorithm is most efficient for a sorted array?", options: ["Linear Search", "Binary Search", "Hash Search", "Depth-First Search"], answer: "Binary Search", rationale: "Binary Search is highly efficient for sorted arrays, dividing the search space in half with each comparison, resulting in O(log N) time complexity." },
                    { question: "What is the primary advantage of a circular linked list over a singly linked list?", options: ["Faster random access to elements", "Easier implementation of LIFO behavior", "Ability to traverse the entire list from any node", "More efficient memory usage"], answer: "Ability to traverse the entire list from any node", rationale: "In a circular linked list, you can start from any node and traverse the entire list, eventually returning to the starting node. This is not easily possible in a singly linked list without a reference to the head." },
                    { question: "Which data structure is used to implement recursion?", options: ["Queue", "Heap", "Stack", "Hash Table"], answer: "Stack", rationale: "Recursion is inherently implemented using a call stack (a stack data structure) to manage function calls and their local variables." },
                    { question: "What is the time complexity for inserting an element into a sorted array?", options: ["O(1)", "O(log N)", "O(N)", "O(N log N)"], answer: "O(N)", rationale: "To insert an element into a sorted array while maintaining sorted order, elements after the insertion point must be shifted, which takes O(N) time in the worst case." },
                    { question: "Which type of tree ensures that for every node, the height of its left and right subtrees differ by at most 1?", options: ["Binary Search Tree (BST)", "Complete Binary Tree", "AVL Tree", "Red-Black Tree"], answer: "AVL Tree", rationale: "An AVL Tree is a self-balancing binary search tree where the difference between heights of left and right subtrees cannot be more than one for all nodes." },
                    { question: "What is the primary purpose of an adjacency matrix in graph representation?", options: ["To list all nodes and their properties", "To store the edges of a graph as a list of pairs", "To represent which pairs of vertices are adjacent (connected by an edge)", "To keep track of visited nodes during traversal"], answer: "To represent which pairs of vertices are adjacent (connected by an edge)", rationale: "An adjacency matrix is a square matrix used to represent a finite graph. The elements of the matrix indicate whether pairs of vertices are adjacent or not." },
                    { question: "Which of the following sorting algorithms is an in-place algorithm?", options: ["Merge Sort", "Heap Sort", "Radix Sort", "Counting Sort"], answer: "Heap Sort", rationale: "Heap Sort is an in-place sorting algorithm, meaning it requires only a constant amount of additional memory space (O(1))." },
                    { question: "What is the main advantage of using a doubly linked list over a singly linked list?", options: ["Reduced memory usage", "Faster searching", "Ability to traverse backward", "Simpler implementation"], answer: "Ability to traverse backward", rationale: "The primary advantage of a doubly linked list is the ability to traverse the list in both forward and backward directions due to the 'previous' pointer." },
                    { question: "Which data structure is used to implement a compiler's symbol table?", options: ["Queue", "Stack", "Hash Table", "Binary Tree"], answer: "Hash Table", rationale: "Hash tables are commonly used for symbol tables in compilers due to their efficient O(1) average-case lookup, insertion, and deletion of symbols (keys) and their associated information (values)." },
                    { question: "What is the time complexity of deleting an element from a hash table in the average case?", options: ["O(N)", "O(log N)", "O(1)", "O(N log N)"], answer: "O(1)", rationale: "In the average case, with a good hash function and proper collision resolution, deleting an element from a hash table takes O(1) time." },
                    { question: "In a graph, what is the difference between an undirected graph and a directed graph?", options: ["Undirected graphs have weights on edges, while directed graphs do not.", "Directed graphs can have cycles, while undirected graphs cannot.", "In an undirected graph, edges have no specific direction, while in a directed graph, edges have a direction.", "Undirected graphs are always connected, while directed graphs can be disconnected."], answer: "In an undirected graph, edges have no specific direction, while in a directed graph, edges have a direction.", rationale: "In an undirected graph, edges represent a two-way connection, while in a directed graph, edges represent a one-way connection from one vertex to another." },
                    { question: "Which tree traversal method visits the left subtree, then the root, then the right subtree?", options: ["Pre-order traversal", "In-order traversal", "Post-order traversal", "Level-order traversal"], answer: "In-order traversal", rationale: "In-order traversal visits the left subtree, then the root node, and then the right subtree. For a Binary Search Tree, this results in elements being visited in sorted order." },
                    { question: "What is the time complexity of inserting an element into a balanced binary search tree (e.g., AVL or Red-Black Tree)?", options: ["O(N)", "O(1)", "O(log N)", "O(N log N)"], answer: "O(log N)", rationale: "Inserting into a balanced BST involves searching for the insertion point and then potentially performing rotations to maintain balance, all of which take O(log N) time." }
                ]
            },
            english: {
                title: "English Usage",
                questions: [
                    { question: "Choose the word that is most nearly OPPOSITE in meaning to the word 'PERSPICACIOUS'.", options: ["Astute", "Dull", "Sagacious", "Discerning"], answer: "Dull", rationale: "Perspicacious means having a ready insight into and understanding of things (i.e., mentally sharp). The opposite is dull, meaning slow to understand." },
                    { question: "Select the word that best completes the sentence: 'The detective found the witness's account to be too ______ to be credible, as it contradicted several known facts.'", options: ["Coherent", "Plausible", "Incongruous", "Verifiable"], answer: "Incongruous", rationale: "Incongruous means not in harmony or keeping with the surroundings or other aspects of something. An incongruous account would contradict known facts and thus not be credible." },
                    { question: "Which pair of words has a relationship most similar to the relationship between 'Arid : Desert'?", options: ["Fertile : Farm", "Humid : Swamp", "Cold : Glacier", "Dense : Forest"], answer: "Humid : Swamp", rationale: "Humid describes a swamp, and a swamp is inherently humid, similar to how a desert is inherently arid. This is the closest analogy." },
                    { question: "Choose the word that is the best synonym for 'Ubiquitous'.", options: ["Scarce", "Rare", "Omnipresent", "Limited"], answer: "Omnipresent", rationale: "Omnipresent means present everywhere at the same time, which is a direct synonym for ubiquitous." },
                    { question: "Which of the following words is most likely to describe a person who is 'gregarious'?", options: ["Solitary", "Reserved", "Sociable", "Aloof"], answer: "Sociable", rationale: "Gregarious means fond of company; sociable. This is the best description." },
                    { question: "Identify the sentence with the correct subject-verb agreement:", options: ["Neither the students nor the professor are ready for the presentation.", "The committee, despite its diverse opinions, have decided on a unified approach.", "Each of the participants, along with their mentor, is required to submit a report.", "The data collected from various sources were inconsistent."], answer: "Each of the participants, along with their mentor, is required to submit a report.", rationale: "The true subject is 'Each', which is singular, so the verb 'is' is correct. The phrase 'along with their mentor' is parenthetical and does not affect the verb agreement." },
                    { question: "Choose the sentence that demonstrates correct pronoun agreement:", options: ["Every student should bring their own laptop to the workshop.", "Neither of the sisters remembered their mother's birthday.", "The team celebrated its victory with great enthusiasm.", "If anyone calls, tell them I'll be back shortly."], answer: "The team celebrated its victory with great enthusiasm.", rationale: "When a collective noun like 'team' acts as a single unit, it takes a singular pronoun ('its'). This sentence is correct." },
                    { question: "Which sentence exhibits correct parallel structure?", options: ["She enjoys hiking, to swim, and cycling.", "He was praised for his dedication, his honesty, and because he was always punctual.", "The new policy aims to reduce waste, to conserve energy, and to promote sustainability.", "Learning a new language involves memorizing vocabulary, understanding grammar rules, and practice speaking."], answer: "The new policy aims to reduce waste, to conserve energy, and to promote sustainability.", rationale: "All elements are infinitives ('to reduce', 'to conserve', 'to promote'), demonstrating correct parallel structure." },
                    { question: "Identify the sentence with a dangling or misplaced modifier:", options: ["Running quickly, the dog chased the ball.", "Having finished the report, the manager approved the project.", "After baking for an hour, I took the cake out of the oven.", "To succeed in life, hard work is essential."], answer: "After baking for an hour, I took the cake out of the oven.", rationale: "The modifier 'After baking for an hour' incorrectly implies that 'I' was baking for an hour, not the cake. This is a dangling modifier." },
                    { question: "Which of the following sentences uses the conditional tense correctly?", options: ["If I would have known, I would have told you.", "If she studied harder, she would pass the exam.", "If he had arrived earlier, he will meet them.", "Unless you will hurry, you will miss the train."], answer: "If she studied harder, she would pass the exam.", rationale: "This is a correct Type 2 conditional (unreal present/future)." },
                    { question: "Choose the sentence that correctly uses the subjunctive mood.", options: ["If I was you, I would accept the offer.", "The manager requested that he submits the report by Friday.", "It is imperative that she be present at the meeting.", "I wish she was here to see this."], answer: "It is imperative that she be present at the meeting.", rationale: "After expressions of necessity or importance ('it is imperative that'), the subjunctive 'be' (base form) is used for all subjects. This sentence is correct." },
                    { question: "Convert the following sentence to passive voice: 'The renowned architect designed the magnificent building.'", options: ["The magnificent building was designed by the renowned architect.", "The renowned architect was designing the magnificent building.", "The magnificent building designed the renowned architect.", "The magnificent building had been designed by the renowned architect."], answer: "The magnificent building was designed by the renowned architect.", rationale: "This correctly transforms the active voice sentence into passive voice, making the object of the active sentence ('the magnificent building') the subject of the passive sentence and using the correct form of 'to be' + past participle." },
                    { question: "Choose the correct reported speech for: 'He said, 'I will finish the project tomorrow.''", options: ["He said that he will finish the project tomorrow.", "He said that he would finish the project the next day.", "He said that he finished the project tomorrow.", "He said that I would finish the project the next day."], answer: "He said that he would finish the project the next day.", rationale: "This correctly applies the tense shift ('will' to 'would') and the time expression change ('tomorrow' to 'the next day')." },
                    { question: "Select the sentence that uses prepositions correctly.", options: ["She is good in mathematics.", "He arrived at the airport on time.", "I am interested on learning new languages.", "They discussed about the proposal."], answer: "He arrived at the airport on time.", rationale: "This sentence uses 'at' for a specific location and 'on' for time correctly." },
                    { question: "Choose the best conjunction to complete the sentence: 'She was exhausted, ______ she continued to work on her thesis.'", options: ["and", "so", "but", "for"], answer: "but", rationale: "But indicates a contrast or contradiction, which fits the meaning that despite being exhausted, she continued to work." },
                    { question: "What does the idiom 'to bite the bullet' mean?", options: ["To express anger loudly.", "To make a quick decision.", "To face a difficult or unpleasant situation with courage and fortitude.", "To give up easily."], answer: "To face a difficult or unpleasant situation with courage and fortitude.", rationale: "This is the correct meaning of the idiom, originating from soldiers biting bullets during surgery to manage pain." },
                    { question: "Which sentence uses the idiom 'spill the beans' correctly?", options: ["He accidentally spilled the beans all over the kitchen floor.", "The chef asked him to spill the beans into the pot.", "She promised not to spill the beans about the surprise party.", "The gardener decided to spill the beans near the rose bushes."], answer: "She promised not to spill the beans about the surprise party.", rationale: "This correctly uses the idiom to mean revealing a secret or confidential information." },
                    { question: "Which of the following sentences uses an idiom INCORRECTLY?", options: ["It's raining cats and dogs, so we should stay indoors.", "He felt under the weather after eating too much.", "She decided to break a leg before her performance.", "The new project is a piece of cake for the experienced team."], answer: "She decided to break a leg before her performance.", rationale: "This is incorrect. 'Break a leg' means 'good luck', not to literally break one's leg. The idiom is used as an encouragement before a performance, so saying 'she decided to break a leg' implies a literal action, which is wrong in context." },
                    { question: "Choose the idiom that best completes the sentence: 'Despite the initial setbacks, the team managed to ______ and win the championship.'", options: ["throw in the towel", "pull out all the stops", "beat around the bush", "hit the road"], answer: "pull out all the stops", rationale: "To pull out all the stops means to make a maximum effort, which fits the context of overcoming setbacks to win." },
                    { question: "What is the meaning of the idiom 'to burn the midnight oil'?", options: ["To waste time late at night.", "To stay up late working or studying.", "To set something on fire at night.", "To finish work early in the morning."], answer: "To stay up late working or studying.", rationale: "This idiom refers to working or studying late into the night, often by artificial light (like an oil lamp)." },
                    { question: "Identify the grammatical error in the following sentence: 'The reason why he left was because he felt undervalued.'", options: ["Incorrect use of 'why'", "Redundancy of 'reason why' and 'because'", "Misplaced modifier", "Subject-verb agreement error"], answer: "Redundancy of 'reason why' and 'because'", rationale: "The phrase 'The reason why... was because' is redundant. It should be either 'The reason he left was that he felt undervalued' or 'He left because he felt undervalued'." },
                    { question: "Choose the sentence that is most clear and concise:", options: ["Despite the fact that he was tired, he continued to work.", "Although he was tired, he continued to work.", "He continued to work, even though he was feeling tired.", "Due to the fact of his tiredness, he continued to work."], answer: "Although he was tired, he continued to work.", rationale: "This is clear and concise, using 'Although' to express the contrast effectively." },
                    { question: "Select the sentence that is grammatically correct and stylistically strong.", options: ["The new software, which was developed by a team of experts, it offers advanced features.", "Having developed by a team of experts, the new software offers advanced features.", "Developed by a team of experts, the new software offers advanced features.", "The new software offers advanced features, being developed by a team of experts."], answer: "Developed by a team of experts, the new software offers advanced features.", rationale: "This sentence is grammatically correct, concise, and stylistically strong, using a past participle phrase to modify 'the new software'." },
                    { question: "Which sentence is free of redundancy?", options: ["The final outcome was ultimately decided by the committee.", "He repeated the same mistake again.", "She reverted back to her old habits.", "The consensus among the group was clear."], answer: "The consensus among the group was clear.", rationale: "Consensus implies agreement among a group, but 'among the group' clarifies which group, and the sentence is not redundant." },
                    { question: "Choose the sentence with correct parallel structure and no grammatical errors.", options: ["The manager advised the employees to work diligently, to communicate effectively, and being punctual.", "He is known for his intelligence, his wit, and for being extremely kind.", "Her goals include completing her degree, securing a good job, and traveling the world.", "The new system is both efficient and it is also user-friendly."], answer: "Her goals include completing her degree, securing a good job, and traveling the world.", rationale: "All elements are gerund phrases ('completing her degree', 'securing a good job', 'traveling the world'), demonstrating correct parallel structure." },
                    { question: "Passage: 'Despite the pervasive influence of digital media, the tactile experience of reading a physical book continues to appeal to many. The rustle of pages and the scent of paper offer a sensory engagement that digital screens cannot replicate.' What can be inferred about the author's perspective on physical books?", options: ["The author believes physical books are superior to digital media in all aspects.", "The author suggests that digital media has completely replaced physical books.", "The author appreciates the unique sensory qualities of physical books.", "The author is critical of the advancements in digital reading technology."], answer: "The author appreciates the unique sensory qualities of physical books.", rationale: "The passage explicitly mentions 'tactile experience', 'rustle of pages', and 'scent of paper' as appealing sensory engagements, indicating the author's appreciation." },
                    { question: "Passage: 'The recent surge in renewable energy adoption signals a global commitment to mitigating climate change. However, challenges remain in grid integration and energy storage, which are crucial for a complete transition.' What is the main idea of this passage?", options: ["Renewable energy has completely solved the problem of climate change.", "The world has fully transitioned to renewable energy.", "While renewable energy adoption is growing, significant hurdles in integration and storage persist.", "Climate change mitigation is no longer a concern due to renewable energy."], answer: "While renewable energy adoption is growing, significant hurdles in integration and storage persist.", rationale: "This accurately summarizes both the positive trend in adoption and the remaining challenges." },
                    { question: "Passage: 'The incessant chirping of crickets permeated the otherwise tranquil summer night, a constant, irritating reminder of the oppressive humidity. One could only wish for a sudden, torrential downpour to silence the nocturnal orchestra.' What is the author's tone towards the crickets?", options: ["Appreciative", "Neutral", "Annoyed", "Amused"], answer: "Annoyed", rationale: "Words like 'incessant', 'irritating reminder', and the wish for them to be 'silence' clearly convey annoyance." },
                    { question: "Passage: 'Many believe that success is solely a result of innate talent. However, countless examples demonstrate that perseverance and diligent practice often outweigh natural ability in achieving mastery.' What is the author's primary argument?", options: ["Innate talent is irrelevant to success.", "Success is a combination of talent and luck.", "Perseverance and practice are more critical for mastery than innate talent.", "Natural ability guarantees success."], answer: "Perseverance and practice are more critical for mastery than innate talent.", rationale: "The author directly states that 'perseverance and diligent practice often outweigh natural ability in achieving mastery'." },
                    { question: "Passage: 'The advent of artificial intelligence promises to revolutionize various industries, from healthcare to finance. While concerns about job displacement are valid, the potential for AI to enhance human capabilities and solve complex problems is immense.' Based on the passage, what is the author's overall outlook on artificial intelligence?", options: ["Skeptical and fearful of job displacement.", "Unreservedly optimistic about its immediate benefits.", "Balanced, acknowledging both challenges and significant potential.", "Pessimistic about its long-term impact on society."], answer: "Balanced, acknowledging both challenges and significant potential.", rationale: "The passage presents both the 'valid' concerns and the 'immense' potential, indicating a balanced perspective." }
                ]
            },
            written: {
                title: "English Written",
                prompt: "In recent years, the rise of remote work has fundamentally altered the professional landscape. Discuss the multifaceted impact of this shift on employee productivity, corporate culture, and the urban economy. In your opinion, is the widespread adoption of remote work a sustainable long-term model for the future of employment? Justify your position with relevant examples and logical arguments. (Word limit: 400-500 words)"
            },
            coding: {
                title: "Coding Questions",
                questions: [
                    {
                        title: "1. Maximum Subarray Sum with One Deletion (Medium)",
                        prompt: "Given an array of integers, return the maximum sum for a non-empty subarray (contiguous elements) with at most one element deletion. In other words, you want to choose a subarray and optionally delete one element from it so that the sum of the remaining elements is maximized. The subarray must be non-empty after the deletion.",
                        examples: [
                            "<b>Example 1:</b><br>Input: arr = [1, -2, 0, 3]<br>Output: 4<br>Explanation: By choosing the subarray [1, -2, 0, 3] and deleting -2, we get the subarray [1, 0, 3] with a sum of 4.",
                            "<b>Example 2:</b><br>Input: arr = [1, -2, -2, 3]<br>Output: 3<br>Explanation: The subarray [3] has the maximum sum 3.",
                            "<b>Example 3:</b><br>Input: arr = [-1, -1, -1, -1]<br>Output: -1<br>Explanation: The subarray [-1] has the maximum sum -1. We must choose a non-empty subarray."
                        ]
                    },
                    {
                        title: "2. Trapping Rain Water II (Hard)",
                        prompt: "Given an m x n integer matrix heightMap representing the height of each unit cell in a 2D elevation map, return the volume of water it can trap after raining. Water can be trapped in areas surrounded by higher ground.",
                        examples: [
                            "<b>Example 1:</b><br>Input: heightMap = [[1,4,3,1,3,2],[3,2,1,3,2,4],[2,3,3,2,3,1]]<br>Output: 4<br>Explanation: The illustration shows the water level at each cell. The total volume of trapped water is 4.",
                            "<b>Example 2:</b><br>Input: heightMap = [[3,3,3,3,3],[3,2,2,2,3],[3,2,1,2,3],[3,2,2,2,3],[3,3,3,3,3]]<br>Output: 10"
                        ]
                    }
                ]
            }
        };
        
        // The addPlaceholders function is no longer needed as all questions are now explicitly defined.
        // const addPlaceholders = (sectionKey, count) => {
        //     const section = quizData[sectionKey];
        //     const existingCount = section.questions.length;
        //     for (let i = existingCount + 1; i <= count; i++) {
        //         section.questions.push({
        //             question: `This is placeholder question #${i} for the ${section.title} section.`,
        //             options: ["Option A", "Option B", "Option C", "Option D"],
        //             answer: "Option A",
        //             rationale: `This is the rationale for the placeholder question #${i}. The correct answer is always Option A for these placeholders.`
        //         });
        //     }
        // };

        // No need to call addPlaceholders anymore as questions are hardcoded.
        // addPlaceholders('reasoning', 30);
        // addPlaceholders('dsa', 30);
        // addPlaceholders('english', 30);

        let currentSection = 'qa';
        let timerInterval;

        function renderQuestions() {
            const form = document.getElementById('quiz-form');
            form.innerHTML = ''; // Clear previous content

            for (const sectionKey in quizData) {
                const sectionData = quizData[sectionKey];
                const sectionDiv = document.createElement('div');
                sectionDiv.id = `section-${sectionKey}`;
                sectionDiv.className = 'section-container bg-white shadow-md rounded-lg p-6 mb-6';
                if (sectionKey !== currentSection) {
                    sectionDiv.classList.add('hidden');
                }

                const title = document.createElement('h2');
                title.className = 'text-2xl font-bold mb-6 border-b pb-4';
                title.textContent = sectionData.title;
                sectionDiv.appendChild(title);
                
                if (sectionData.questions && sectionData.questions[0].options) { // Check if it's an MCQ section
                    sectionData.questions.forEach((q, index) => {
                        const questionWrapper = document.createElement('div');
                        questionWrapper.className = 'mb-8';

                        const questionText = document.createElement('p');
                        questionText.className = 'font-semibold text-lg mb-4';
                        questionText.innerHTML = `${index + 1}. ${q.question}`;
                        questionWrapper.appendChild(questionText);

                        const optionsWrapper = document.createElement('div');
                        optionsWrapper.className = 'space-y-3';

                        q.options.forEach(option => {
                            const label = document.createElement('label');
                            label.className = 'flex items-center p-3 border rounded-lg hover:bg-gray-50 cursor-pointer';
                            
                            const radio = document.createElement('input');
                            radio.type = 'radio';
                            radio.name = `${sectionKey}-q${index}`;
                            radio.value = option;
                            radio.className = 'mr-3 h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300';
                            
                            label.appendChild(radio);
                            label.append(option);
                            optionsWrapper.appendChild(label);
                        });
                        questionWrapper.appendChild(optionsWrapper);
                        sectionDiv.appendChild(questionWrapper);
                    });
                } else if (sectionData.prompt) { // For written section
                    const promptText = document.createElement('p');
                    promptText.className = 'text-gray-700 italic mb-4';
                    promptText.innerHTML = sectionData.prompt;
                    sectionDiv.appendChild(promptText);

                    const textarea = document.createElement('textarea');
                    textarea.id = 'written-answer';
                    textarea.rows = '15';
                    textarea.className = 'w-full p-3 border rounded-lg focus:ring-blue-500 focus:border-blue-500';
                    textarea.placeholder = 'Type your essay here...';
                    sectionDiv.appendChild(textarea);
                } else if (sectionData.questions && sectionData.questions[0].title) { // For coding section (check for title property as a distinguishing feature)
                    sectionData.questions.forEach((q, index) => {
                        const codingWrapper = document.createElement('div');
                        codingWrapper.className = 'mb-12';

                        const qTitle = document.createElement('h3');
                        qTitle.className = 'text-xl font-bold mb-2';
                        qTitle.innerHTML = q.title;
                        codingWrapper.appendChild(qTitle);
                        
                        const qPrompt = document.createElement('p');
                        qPrompt.className = 'text-gray-700 mb-4';
                        qPrompt.innerHTML = q.prompt;
                        codingWrapper.appendChild(qPrompt);

                        if(q.examples) {
                            const examplesDiv = document.createElement('div');
                            examplesDiv.className = 'bg-gray-50 p-4 rounded-lg border';
                            q.examples.forEach(ex => {
                                const exampleText = document.createElement('p');
                                exampleText.className = 'text-sm font-mono mb-2';
                                exampleText.innerHTML = ex;
                                examplesDiv.appendChild(exampleText);
                            });
                            codingWrapper.appendChild(examplesDiv);
                        }

                        const textarea = document.createElement('textarea');
                        textarea.id = `coding-answer-${index}`;
                        textarea.rows = '20';
                        textarea.className = 'w-full p-3 border rounded-lg focus:ring-blue-500 focus:border-blue-500 mt-4 font-mono text-sm';
                        textarea.placeholder = 'Type your code solution here...';
                        codingWrapper.appendChild(textarea);
                        sectionDiv.appendChild(codingWrapper);
                    });
                }
                form.appendChild(sectionDiv);
            }
        }

        function showSection(sectionKey) {
            currentSection = sectionKey;
            document.querySelectorAll('.section-container').forEach(sec => sec.classList.add('hidden'));
            document.getElementById(`section-${sectionKey}`).classList.remove('hidden');

            document.querySelectorAll('.section-nav').forEach(nav => nav.classList.remove('section-active'));
            document.getElementById(`nav-${sectionKey}`).classList.add('section-active');
            
            window.scrollTo(0, 0);
        }
        
        function startTimer(duration, display) {
            let timer = duration, hours, minutes, seconds;
            timerInterval = setInterval(function () {
                hours = parseInt(timer / 3600, 10);
                minutes = parseInt((timer % 3600) / 60, 10);
                seconds = parseInt(timer % 60, 10);

                hours = hours < 10 ? "0" + hours : hours;
                minutes = minutes < 10 ? "0" + minutes : minutes;
                seconds = seconds < 10 ? "0" + seconds : seconds;

                display.textContent = hours + ":" + minutes + ":" + seconds;

                if (--timer < 0) {
                    clearInterval(timerInterval);
                    alert("Time's up!");
                    submitTest();
                }
            }, 1000);
        }

        function submitTest() {
            clearInterval(timerInterval);
            const resultsContainer = document.getElementById('results-container');
            const testContainer = document.getElementById('test-container');
            
            testContainer.classList.add('hidden');
            resultsContainer.classList.remove('hidden');

            let resultsHTML = `<div class="bg-white shadow-md rounded-lg p-6">
                <h1 class="text-3xl font-bold text-center mb-6">Test Results</h1>`;

            let totalCorrect = 0;
            let totalAttempted = 0;
            let totalQuestions = 0;

            // Grade MCQ sections
            ['qa', 'reasoning', 'dsa', 'english'].forEach(sectionKey => {
                const sectionData = quizData[sectionKey];
                let score = 0;
                let attempted = 0;
                
                resultsHTML += `<div class="mb-8"><h2 class="text-2xl font-bold mb-4 border-b pb-2">${sectionData.title}</h2>`;

                sectionData.questions.forEach((q, index) => {
                    totalQuestions++;
                    const selectedOption = document.querySelector(`input[name="${sectionKey}-q${index}"]:checked`);
                    
                    resultsHTML += `<div class="mb-6 p-4 border rounded-lg">
                        <p class="font-semibold text-lg">${index + 1}. ${q.question}</p>`;

                    if (selectedOption) {
                        attempted++;
                        totalAttempted++;
                        if (selectedOption.value === q.answer) {
                            score++;
                            totalCorrect++;
                            resultsHTML += `<p class="mt-2">Your answer: <span class="font-medium results-correct">${selectedOption.value} (Correct)</span></p>`;
                        } else {
                            resultsHTML += `<p class="mt-2">Your answer: <span class="font-medium results-incorrect">${selectedOption.value} (Incorrect)</span></p>
                                          <p class="mt-1">Correct answer: <span class="font-medium results-correct">${q.answer}</span></p>`;
                        }
                    } else {
                        resultsHTML += `<p class="mt-2 text-gray-500">You did not answer this question.</p>
                                      <p class="mt-1">Correct answer: <span class="font-medium results-correct">${q.answer}</span></p>`;
                    }

                    resultsHTML += `<div class="rationale mt-3 p-3">
                        <p class="font-semibold text-sm text-gray-700">Rationale:</p>
                        <p class="text-sm text-gray-600">${q.rationale}</p>
                        </div></div>`;
                });

                resultsHTML += `<div class="bg-blue-50 p-4 rounded-lg text-center font-semibold text-blue-800">
                    Section Score: ${score} / ${sectionData.questions.length}
                    </div></div>`;
            });

            // Summary
             resultsHTML = `<div class="bg-white shadow-md rounded-lg p-6 mb-6">
                <h2 class="text-3xl font-bold text-center mb-4">Overall Summary</h2>
                <div class="grid grid-cols-1 md:grid-cols-3 gap-4 text-center">
                    <div class="bg-green-100 p-4 rounded-lg">
                        <p class="text-lg font-semibold text-green-800">Correct</p>
                        <p class="text-3xl font-bold text-green-600">${totalCorrect}</p>
                    </div>
                    <div class="bg-red-100 p-4 rounded-lg">
                        <p class="text-lg font-semibold text-red-800">Incorrect</p>
                        <p class="text-3xl font-bold text-red-600">${totalAttempted - totalCorrect}</p>
                    </div>
                     <div class="bg-gray-100 p-4 rounded-lg">
                        <p class="text-lg font-semibold text-gray-800">Unanswered</p>
                        <p class="text-3xl font-bold text-gray-600">${totalQuestions - totalAttempted}</p>
                    </div>
                </div>
                 <div class="mt-6 text-center">
                    <p class="text-xl font-bold">Total Score: ${totalCorrect} / ${totalQuestions}</p>
                </div>
            </div>` + resultsHTML;

            // Display Written and Coding answers
            const writtenAnswer = document.getElementById('written-answer').value;
            resultsHTML += `<div class="bg-white shadow-md rounded-lg p-6 mb-6">
                <h2 class="text-2xl font-bold mb-4 border-b pb-2">${quizData.written.title}</h2>
                <h3 class="font-semibold text-lg mb-2">Your Essay:</h3>
                <div class="bg-gray-50 p-4 rounded-lg border whitespace-pre-wrap">${writtenAnswer || 'No answer provided.'}</div>
                </div>`;

            const codingAnswersHTML = quizData.coding.questions.map((q, index) => {
                const codingAnswer = document.getElementById(`coding-answer-${index}`).value;
                return `<div class="mb-8">
                    <h3 class="font-semibold text-lg mb-2">${q.title}</h3>
                    <div class="bg-gray-800 text-white font-mono text-sm p-4 rounded-lg whitespace-pre-wrap overflow-x-auto">${codingAnswer || '// No answer provided.'}</div>
                    </div>`;
            }).join('');
            
            resultsHTML += `<div class="bg-white shadow-md rounded-lg p-6 mb-6">
                <h2 class="text-2xl font-bold mb-4 border-b pb-2">${quizData.coding.title}</h2>
                ${codingAnswersHTML}
                </div>`;
            
            resultsHTML += `</div>`; // Closing results container div
            resultsContainer.innerHTML = resultsHTML;
        }

        window.onload = () => {
            renderQuestions();
            const threeHours = 60 * 60 * 3;
            const display = document.querySelector('#timer');
            startTimer(threeHours, display);
        };
    </script>
</body>
</html>
